<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>WebGL多个shader切换</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        html,
        body {
            width: 100%;
            height: 100%;
            background-color: #000;
        }

        .panel {
            overflow: hidden;
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 0;
        }

        canvas {
            position: absolute;
        }
    </style>
    <script src="../js/Utils.js"></script>
</head>

<body>
    <div class="panel">
        <canvas width="100%" height="100%"></canvas>
    </div>
    <script type="text/javascript">
        (function (exports) {
            const clientrect = document.documentElement.getBoundingClientRect();
            document.addEventListener('touchmove', function (event) {
                event.preventDefault();
            });
            exports.config = {
                width: clientrect.width,
                height: clientrect.height
            };
        })(typeof exports === 'object' ? exports : window);
    </script>
    <script src="../js/axios.min.js"></script>
    <script src="../js/stats.js"></script>
    <script>
        class Shader {
            constructor(gl) {
            }
            draw() {
                
            }
        }
    </script>
    <script>
        const stats = new Stats();
        stats.showPanel(0); // 0: fps, 1: ms, 2: mb, 3+: custom
        document.body.appendChild(stats.dom);
        const canvas = document.querySelector('canvas');
        canvas.setAttribute('width', config.width);
        canvas.setAttribute('height', config.height);
        canvas.addEventListener("webglcontextcreationerror", ev => {
            console.log(ev.statusMessage || "Unknown");
        }, false);
        //获取webgl上下文
        const gl = Utils.WebGlContext(canvas, true);
        const animationFrame = () => {
            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
        }
        window.requestAnimationFrame(animationFrame);
    </script>
</body>

</html>